<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    DOM |
    
    yuchen</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/technology.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>

<body>
  <div id="container">
    <div id="wrap">
      <section class="outer">
  <article id="post-DOM" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      DOM
    </h1>
  

      </header>
    

    
      <div class="article-meta">
        <a href="/2020/02/18/DOM/" class="article-date">
  <time datetime="2020-02-18T12:17:31.000Z" itemprop="datePublished">2020-02-18</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <p>#DOM</p>
<h4 id="DOM模型中的节点"><a href="#DOM模型中的节点" class="headerlink" title="DOM模型中的节点"></a>DOM模型中的节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://www.imooc.com/&quot; target=&quot;_blank&quot;&gt;慕课网&lt;/a&gt;</span><br><span class="line">a:元素节点,</span><br><span class="line">href=&quot;&quot;:属性节点,</span><br><span class="line">慕课网:文本节点</span><br></pre></td></tr></table></figure>
<h4 id="DOM节点的常用属性和方法"><a href="#DOM节点的常用属性和方法" class="headerlink" title="DOM节点的常用属性和方法"></a>DOM节点的常用属性和方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">属性/方法       类型/返回类型      说明</span><br><span class="line">nodeName		String 			节点名称</span><br><span class="line">nodeValue		String			节点的值</span><br><span class="line">nodeType		Number			节点类型(1,2,3;分别表示元素,属性,文本节点)</span><br><span class="line">firstChild		Node			指向childNodes列表中的第一个节点</span><br><span class="line">lastChild		Node			指向childNodes列表中的最后一个节点</span><br><span class="line">childNodes		NodeList		所有子节点的列表</span><br><span class="line">parentNode		Node			指向节点的父节点,如果已经是根节点,则返回null</span><br><span class="line">previousSibling Node			指向前一个兄弟节点,如果该节点已经是第一个节点,则返回null</span><br><span class="line">nextSibling		Node			指向后一个兄弟节点,如果该节点已经是最后一个节点,则返回null</span><br><span class="line">hasChildNodes() Boolean			当childNodes包含一个或多个节点时,返回true</span><br><span class="line">attributes		NameNodeMap		包含一个元素特性的attr对象,仅用于元素节点</span><br><span class="line">appendChild(node)Node 			将node节点添加到childNodes的末尾</span><br><span class="line">removeChild(node)Node 			从childNodes中删除node节点</span><br><span class="line">replaceChild(</span><br><span class="line">newnode,oldnode) Node			将childNodes中的oldnode节点替换成newnode节点</span><br><span class="line">insertBefore(</span><br><span class="line">newnode,refnode) Node			在childNodes中的refnode节点之前插入newnode节点</span><br></pre></td></tr></table></figure>
<h4 id="访问节点"><a href="#访问节点" class="headerlink" title="访问节点"></a>访问节点</h4><blockquote>
<p>getElementsByTagName();</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;访问节点&lt;/title&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function searchDOM()&#123;</span><br><span class="line">			var oLi = document.getElementsByTagName(&apos;li&apos;);</span><br><span class="line">			console.log(oLi.length+&quot;\n&quot;+oLi[0].tagName+&quot;\n&quot;+oLi[0].childNodes[0].nodeValue);</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body onload=&quot;searchDOM()&quot;&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		&lt;li&gt;HTML&lt;/li&gt;</span><br><span class="line">		&lt;li id=&quot;cssId&quot;&gt;CSS&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;javascript&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		&lt;li&gt;jsp&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;xml&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;servlet&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">6</span><br><span class="line">LI</span><br><span class="line">HTML</span><br><span class="line">*************************************************************************************</span><br></pre></td></tr></table></figure>
<blockquote>
<p>getElementById();</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function searchDOM()&#123;</span><br><span class="line">			var oLi = document.getElementById(&quot;cssId&quot;);</span><br><span class="line">			console.log(oLi.nodeName+&quot;\n&quot;+oLi.childNodes[0].nodeValue);</span><br><span class="line">		&#125;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">LI</span><br><span class="line">CSS</span><br></pre></td></tr></table></figure>
<h4 id="检测节点类型nodeType"><a href="#检测节点类型nodeType" class="headerlink" title="检测节点类型nodeType();"></a>检测节点类型nodeType();</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function searchDOM()&#123;</span><br><span class="line">	var oLi = document.getElementById(&quot;cssId&quot;);</span><br><span class="line">	var otext = oLi.childNodes[0]</span><br><span class="line">	console.log(&quot;元素节点:&quot;+oLi.nodeType+&quot;文本节点:&quot;+otext.nodeType);</span><br><span class="line">&#125;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">元素节点:1文本节点:3</span><br></pre></td></tr></table></figure>
<h4 id="获取所有子节点childNodes"><a href="#获取所有子节点childNodes" class="headerlink" title="获取所有子节点childNodes"></a>获取所有子节点childNodes</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function searchDOM()&#123;</span><br><span class="line">	var oLi = document.getElementById(&quot;吉安娜&quot;);</span><br><span class="line">	if (oLi.hasChildNodes()) &#123;</span><br><span class="line">		var list = oLi.childNodes;</span><br><span class="line">		for (var i = 0; i &lt; list.length; i++) &#123;</span><br><span class="line">			console.log((i+1)+&quot;.标签类型:&quot;+list[i].nodeName);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">1.标签类型:#text</span><br><span class="line">2.标签类型:LI</span><br><span class="line">3.标签类型:#text</span><br><span class="line">4.标签类型:LI</span><br><span class="line">5.标签类型:#text</span><br><span class="line">6.标签类型:LI</span><br><span class="line">7.标签类型:#text</span><br><span class="line">8.标签类型:LI</span><br><span class="line">9.标签类型:#text</span><br><span class="line">10.标签类型:LI</span><br><span class="line">11.标签类型:#text</span><br><span class="line">&lt;!--这里应该获取到的是5个LI标签,但是有些浏览器会把标签之间的空格也当作子节点计算进来,这里用的是Edge浏览器--&gt;</span><br></pre></td></tr></table></figure>
<h4 id="获取父节点parentNode"><a href="#获取父节点parentNode" class="headerlink" title="获取父节点parentNode"></a>获取父节点parentNode</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function searchDOM()&#123;</span><br><span class="line">	var oLi = document.getElementById(&quot;宇宙法&quot;);</span><br><span class="line">	console.log(oLi.nodeName+&quot;标签的父标签的类型是:&quot;+oLi.parentNode.nodeName)</span><br><span class="line">&#125;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">LI标签的父标签的类型是:UL</span><br></pre></td></tr></table></figure>
<h4 id="逐级获取父节点"><a href="#逐级获取父节点" class="headerlink" title="逐级获取父节点"></a>逐级获取父节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function searchDOM()&#123;</span><br><span class="line">	var oLi = document.getElementById(&quot;宇宙法&quot;);</span><br><span class="line">	var pNode = oLi.parentNode;</span><br><span class="line">	/*直到找到class=&quot;dnode&quot;的节点或者body,否则一直逐级向上寻找父亲节点*/</span><br><span class="line">	if (pNode.className!=&quot;dnode&quot; &amp;&amp; pNode!=document.body) &#123;</span><br><span class="line">		pNode = pNode.parentNode;</span><br><span class="line">	&#125;</span><br><span class="line">	console.log(pNode.nodeName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="兄弟标签"><a href="#兄弟标签" class="headerlink" title="兄弟标签"></a>兄弟标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function searchDOM()&#123;</span><br><span class="line">			var oLi = document.getElementById(&quot;宇宙法&quot;);</span><br><span class="line">			var preLi = oLi.previousSibling;</span><br><span class="line">			var nextLi = oLi.nextSibling;</span><br><span class="line">			console.log(oLi.nodeName+&quot;的前一个标签是:&quot;+preLi.nodeName+preLi.childNodes[0].nodeValue+&quot;,后一个标签是:&quot;+nextLi.nodeName+nextLi.childNodes[0].nodeValue);</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body onload=&quot;searchDOM()&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;dnode&quot;&gt;</span><br><span class="line">		&lt;ul&gt;</span><br><span class="line">			/*在Edge浏览器中,获取兄弟节点时,空白也会被当作节点处理,所以此处&lt;li&gt;标签之间不留空隙*/</span><br><span class="line">			&lt;li&gt;奇迹法&lt;/li&gt;&lt;li id=&quot;宇宙法&quot;&gt;宇宙法&lt;/li&gt;&lt;li&gt;元素法&lt;/li&gt;</span><br><span class="line">			&lt;li&gt;奥秘法&lt;/li&gt;</span><br><span class="line">			&lt;li&gt;龙法&lt;/li&gt;</span><br><span class="line">		&lt;/ul&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">LI的前一个标签是:LI奇迹法,后一个标签是:LI元素法</span><br></pre></td></tr></table></figure>
<h4 id="访问相邻的兄弟节点-解决了空白节点的问题"><a href="#访问相邻的兄弟节点-解决了空白节点的问题" class="headerlink" title="访问相邻的兄弟节点(解决了空白节点的问题)"></a>访问相邻的兄弟节点(解决了空白节点的问题)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function preNode(oLi)&#123;</span><br><span class="line">			var firstLi = oLi.parentNode.firstChild;</span><br><span class="line">			if (oLi == firstLi) &#123;</span><br><span class="line">				return null;</span><br><span class="line">			&#125;</span><br><span class="line">			var preLi = oLi.previousSibling;</span><br><span class="line">			while(preLi.previousSibling != null &amp;&amp; preLi.nodeType != 1)&#123;</span><br><span class="line">				preLi = preLi.previousSibling;</span><br><span class="line">			&#125;</span><br><span class="line">			return preLi.nodeType == 1?preLi:null;</span><br><span class="line">		&#125;</span><br><span class="line">		function nextNode(oLi)&#123;</span><br><span class="line">			var lastLi = oLi.parentNode.lastChild;</span><br><span class="line">			if (oLi == lastLi) &#123;</span><br><span class="line">				return null;</span><br><span class="line">			&#125;</span><br><span class="line">			var nextLi = oLi.nextSibling;</span><br><span class="line">			while(nextLi.nextSibling != null &amp;&amp; nextLi.nodeType != 1)&#123;</span><br><span class="line">				nextLi = nextLi.nextSibling;</span><br><span class="line">			&#125;</span><br><span class="line">			return nextLi.nodeType == 1?nextLi:null;</span><br><span class="line">		&#125;</span><br><span class="line">		function searchDOM()&#123;</span><br><span class="line">			var oLi = document.getElementById(&quot;宇宙法&quot;);</span><br><span class="line">			var preLi = preNode(oLi);</span><br><span class="line">			var nextLi = nextNode(oLi);</span><br><span class="line">			console.log(oLi.nodeName+oLi.childNodes[0].nodeValue+&quot;的前一个标签是:&quot;+preLi.nodeName+preLi.childNodes[0].nodeValue+&quot;,后一个标签是:&quot;+nextLi.nodeName+nextLi.childNodes[0].nodeValue);</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">*****************************************print***************************************</span><br><span class="line">LI宇宙法的前一个标签是:LI奇迹法,后一个标签是:LI元素法</span><br></pre></td></tr></table></figure>
<h4 id="通过设置节点属性达到动画效果-图片切换"><a href="#通过设置节点属性达到动画效果-图片切换" class="headerlink" title="通过设置节点属性达到动画效果(图片切换)"></a>通过设置节点属性达到动画效果(图片切换)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function twoCY()&#123;</span><br><span class="line">			var imgNode = document.getElementsByTagName(&apos;img&apos;)[0];</span><br><span class="line">			console.log(imgNode.getAttribute(&quot;src&quot;));</span><br><span class="line">			imgNode.setAttribute(&quot;src&quot;,&quot;DOM/2.jpg&quot;);</span><br><span class="line">			console.log(imgNode.getAttribute(&quot;src&quot;));</span><br><span class="line">		&#125;</span><br><span class="line">&lt;img src=&quot;DOM/1.jpg&quot; title=&quot;二次元&quot; onclick=&quot;twoCY()&quot;/&gt;</span><br></pre></td></tr></table></figure>
<h4 id="创建和添加节点createElement-CreateTextChild"><a href="#创建和添加节点createElement-CreateTextChild" class="headerlink" title="创建和添加节点createElement,CreateTextChild"></a>创建和添加节点createElement,CreateTextChild</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function addNode()&#123;</span><br><span class="line">	var newNode = document.createElement(&quot;p&quot;);</span><br><span class="line">	var textNode = document.createTextNode(&quot;法师是真的弱&quot;);</span><br><span class="line">	newNode.appendChild(textNode);</span><br><span class="line">	document.body.appendChild(newNode);</span><br><span class="line">	/*新建一个p标签和一个文本节点,并把文本节点添加到p元素节点中,appendChild()方法会把文本节点添加到元素节点p的childNodes列表的末尾*/</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="删除节点Node-parentNode-removeChild"><a href="#删除节点Node-parentNode-removeChild" class="headerlink" title="删除节点Node.parentNode.removeChild()"></a>删除节点Node.parentNode.removeChild()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function removeNode()&#123;</span><br><span class="line">	var node = document.getElementById(&apos;node&apos;);</span><br><span class="line">	node.parentNode.removeChild(node);//删除节点</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="替换节点replaceChild-newNode-oldNode"><a href="#替换节点replaceChild-newNode-oldNode" class="headerlink" title="替换节点replaceChild(newNode,oldNode);"></a>替换节点replaceChild(newNode,oldNode);</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function replaceNode()&#123;</span><br><span class="line">	var oldNode = document.getElementById(&apos;node&apos;);</span><br><span class="line">	var newNode = document.createElement(&quot;p&quot;);</span><br><span class="line">	var textNode = document.createTextNode(&quot;三毛流浪记&quot;);</span><br><span class="line">	newNode.appendChild(textNode);</span><br><span class="line">	oldNode.parentNode.replaceChild(newNode,oldNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="在特定节点前插入节点"><a href="#在特定节点前插入节点" class="headerlink" title="在特定节点前插入节点"></a>在特定节点前插入节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function insertNodeBefore() &#123;</span><br><span class="line">	var node = document.getElementById(&apos;node&apos;);</span><br><span class="line">	var newNode = document.createElement(&quot;div&quot;);</span><br><span class="line">	var textNode = document.createTextNode(&quot;三毛流浪记&quot;);</span><br><span class="line">	newNode.appendChild(textNode);</span><br><span class="line">	node.parentNode.insertBefore(newNode,node);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="用DOM的文档碎片提高页面执行效率createDocumentFragment"><a href="#用DOM的文档碎片提高页面执行效率createDocumentFragment" class="headerlink" title="用DOM的文档碎片提高页面执行效率createDocumentFragment()"></a>用DOM的文档碎片提高页面执行效率createDocumentFragment()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function insertNode()&#123;</span><br><span class="line">	var arr = [1,2,3,4,5,6,7,8,9,10];</span><br><span class="line">	var fragment = document.createDocumentFragment();</span><br><span class="line">	for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">		var p = document.createElement(&quot;p&quot;);</span><br><span class="line">		var textNode = document.createTextNode(arr[i]);</span><br><span class="line">		p.appendChild(textNode);</span><br><span class="line">		fragment.appendChild(p);</span><br><span class="line">	&#125;</span><br><span class="line">	document.body.appendChild(fragment);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="在特定节点后插入节点-自定义方法insertAfter"><a href="#在特定节点后插入节点-自定义方法insertAfter" class="headerlink" title="在特定节点后插入节点(自定义方法insertAfter());"></a>在特定节点后插入节点(自定义方法insertAfter());</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function insertAfter(newNode,oldNode)&#123;</span><br><span class="line">	var parentNode = oldNode.parentNode;</span><br><span class="line">	if (oldNode == parentNode.lastChild) &#123;</span><br><span class="line">		parentNode.appendChild(newNode);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		parentNode.insertBefore(newNode,oldNode.nextSibling);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="非标准DOM-innerHTML属性"><a href="#非标准DOM-innerHTML属性" class="headerlink" title="非标准DOM-innerHTML属性"></a>非标准DOM-innerHTML属性</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function innerhtml()&#123;</span><br><span class="line">	var node = document.getElementById(&apos;node&apos;);</span><br><span class="line">	node.innerHTML = &quot;&lt;p&gt;测试innerHTML&lt;/p&gt;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="DOM的className属性-通过重新赋值className-替换CSS样式"><a href="#DOM的className属性-通过重新赋值className-替换CSS样式" class="headerlink" title="DOM的className属性(通过重新赋值className,替换CSS样式)"></a>DOM的className属性(通过重新赋值className,替换CSS样式)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;className&lt;/title&gt;</span><br><span class="line">	&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">		.d1&#123;</span><br><span class="line">			color: red;</span><br><span class="line">		&#125;</span><br><span class="line">		.d2&#123;</span><br><span class="line">			color: blue;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function check()&#123;</span><br><span class="line">			var d = document.getElementsByTagName(&apos;div&apos;)[0];</span><br><span class="line">			d.className = &quot;d2&quot;;  //修改CSS类</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div onclick=&quot;check()&quot; class=&quot;d1&quot;&gt;点我&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<h4 id="className用法升级版"><a href="#className用法升级版" class="headerlink" title="className用法升级版"></a>className用法升级版</h4><blockquote>
<p>不替换原来的CSS样式,采用追加的方式,前提是保证追加的CSS类别中的各个属性与原先的属性不重复</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;className&lt;/title&gt;</span><br><span class="line">	&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">		.d1&#123;</span><br><span class="line">			color: red;</span><br><span class="line">		&#125;</span><br><span class="line">		.d2&#123;</span><br><span class="line">			background-color: lightgreen;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">	&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">		function check()&#123;</span><br><span class="line">			var d = document.getElementsByTagName(&apos;div&apos;)[0];</span><br><span class="line">			d.className += &quot; d2&quot;;/*注意这里&quot; d2&quot;中d2之间要加空格,这样追加之后div的className变成d1 d2是父子关系,否则就会变成d1d2被视为一个字符串*/</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div onclick=&quot;check()&quot; class=&quot;d1&quot;&gt;点我&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://jinyeeeee.github.io/2020/02/18/DOM/" data-id="ck9bi7hdi000d1gv0ef0y77bj"
         class="article-share-link">分享</a>
      
    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="/2020/02/21/%E4%BA%8B%E4%BB%B6/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            事件
          
        </div>
      </a>
    
    
      <a href="/2020/02/17/css/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">css</div>
      </a>
    
  </nav>


  

  
    
  

</article>



</section>
    </div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/technology.js"></script>

  </div>
</body>
</html>